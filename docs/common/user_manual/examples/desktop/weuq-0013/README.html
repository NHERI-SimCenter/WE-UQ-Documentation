

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>4.5. Digital Wind Tunnel II: Wind Loads on Isolated Building with Simple Geometry &mdash; Wind Engineering with Uncertainty Quantification  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="4.6. Digital Wind Tunnel II: Wind Loads on Isolated Building with Complex Geometry" href="../weuq-0014/README.html" />
    <link rel="prev" title="4.4. Digital Wind Tunnel I: Empty Domain Simulation" href="../weuq-0011/README.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html">



  
  <img src="../../../../../_static/WE-UQ-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/WEUQ/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/desktop/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/cite.html">4. How To Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/weCapabilities.html">5. Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/weReleaseNotes.html">6. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/wePlans.html">7. Release Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/glossary.html">8. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/abbreviations.html">9. Abbreviations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/usage.html">2. User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/wind/tools.html">3. Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">4. Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../weuq-0001/README.html">4.1. 9 Story Building: Sampling Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../weuq-0007/README.html">4.2. 3 Story Building: Sensitivity Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../weuq-0012/README.html">4.3. Wind Tunnel-Informed Stochastic Wind Load Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../weuq-0011/README.html">4.4. Digital Wind Tunnel I: Empty Domain Simulation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.5. Digital Wind Tunnel II: Wind Loads on Isolated Building with Simple Geometry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#target-experimental-measurement">4.5.1. Target Experimental Measurement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#workflow">4.5.2. Workflow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uq-method">4.5.2.1. UQ Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="#general-information">4.5.2.2. General Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#structural-properties">4.5.2.3. Structural Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cfd-model">4.5.2.4. CFD Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#finite-element-analysis">4.5.2.5. Finite Element Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#engineering-demand-parameter">4.5.2.6. Engineering Demand Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-variables">4.5.2.7. Random Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-the-simulation">4.5.2.8. Running the Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#results">4.5.2.9. Results</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#visualizing-the-cfd-output">4.5.3. Visualizing the CFD Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../weuq-0014/README.html">4.6. Digital Wind Tunnel II: Wind Loads on Isolated Building with Complex Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../weuq-0015/README.html">4.7. Digital Wind Tunnel II: Characterizing ABL Flows using Large-eddy Simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/desktop/troubleshooting.html">5. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reqments/WEUQ.html">6. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs.html">7. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/technical_manual.html">1. Technical Manual</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/architecture/desktop/architecture.html">2. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_extend/desktop/how_to_extend.html">3. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/verification/desktop/verification.html">4. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/coding_style/desktop/coding_style.html">5. Coding Style</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Wind Engineering with Uncertainty Quantification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../examples.html"><span class="section-number">4. </span>Examples</a> &raquo;</li>
        
      <li><span class="section-number">4.5. </span>Digital Wind Tunnel II: Wind Loads on Isolated Building with Simple Geometry</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/common/user_manual/examples/desktop/weuq-0013/README.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="digital-wind-tunnel-ii-wind-loads-on-isolated-building-with-simple-geometry">
<span id="weuq-0013"></span><h1><span class="section-number">4.5. </span>Digital Wind Tunnel II: Wind Loads on Isolated Building with Simple Geometry<a class="headerlink" href="#digital-wind-tunnel-ii-wind-loads-on-isolated-building-with-simple-geometry" title="Permalink to this heading">¶</a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 39%" />
<col style="width: 61%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Problem files</p></td>
<td><p><a class="reference external" href="https://github.com/NHERI-SimCenter/WE-UQ/tree/master/Examples//weuq-0013//">weuq-0013/</a></p></td>
</tr>
</tbody>
</table>
<p>This example demonstrates a Computational Fluid Dynamics (CFD) based procedure for estimating the response of a building with simple box type geometry subjected to wind loading. The example demonstrates a step-by-step process for defining the CFD model based on a target experimental setup. The target experimental model is taken from Tokyo Polytechnic University (TPU) aerodynamic database. For ease of demonstration, in this example, some simplifying assumptions are taken to model the approaching wind condition. Once the CFD simulation are completed, the recorded wind loads are applied to a 45-story building for estimating the responses.</p>
<div class="figure align-center" id="id5">
<span id="fig-we13-1"></span><a class="reference internal image-reference" href="../../../../../_images/we13_computational_domain.svg"><img alt="../../../../../_images/we13_computational_domain.svg" src="../../../../../_images/we13_computational_domain.svg" width="600" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.1 </span><span class="caption-text">Setup of the CFD model: approaching wind, computational domain and the study building.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="target-experimental-measurement">
<h2><span class="section-number">4.5.1. </span>Target Experimental Measurement<a class="headerlink" href="#target-experimental-measurement" title="Permalink to this heading">¶</a></h2>
<p>Relevant geometric and flow properties taken from TPU database are provided <a class="reference internal" href="#tbl-we13-1"><span class="std std-numref">Table 4.5.1.1</span></a> . These parameters are then specified in WE-UQ as demonstrated in <a class="reference internal" href="../weuq-0014/README.html#workflow-section"><span class="std std-ref">Workflow</span></a>. In full-scale, the study building measures 200 m high with a 40 m square plan dimension. However, for simplicity, the CFD model is created in model scale (at 1:400 geometric scale) resembling that of the experimental version.</p>
<div class="figure align-center" id="fig-we13-tpu-model">
<a class="reference internal image-reference" href="../../../../../_images/we13_tpu_building_demo.jpg"><img alt="../../../../../_images/we13_tpu_building_demo.jpg" src="../../../../../_images/we13_tpu_building_demo.jpg" style="width: 400px;" /></a>
</div>
<span id="tbl-we13-1"></span><table class="docutils align-center" id="id6">
<caption><span class="caption-number">Table 4.5.1.1 </span><span class="caption-text">Parameters needed to define the CFD model (taken from TPU database)</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 21%" />
<col style="width: 46%" />
<col style="width: 18%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(B\)</span></p></td>
<td><p>Building width</p></td>
<td><p>0.1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(D\)</span></p></td>
<td><p>Building depth</p></td>
<td><p>0.1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(H\)</span></p></td>
<td><p>Building height</p></td>
<td><p>0.5</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\lambda_L\)</span></p></td>
<td><p>Geometric scale of the model</p></td>
<td><p>1/400</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\lambda_V\)</span></p></td>
<td><p>Velocity scale of the model</p></td>
<td><p>1/4</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\lambda_T\)</span></p></td>
<td><p>Time scale of the model</p></td>
<td><p>100</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(U_H\)</span></p></td>
<td><p>Roof-height mean wind speed</p></td>
<td><p>11.2518</p></td>
<td><p>m/s</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(T\)</span></p></td>
<td><p>Duration of the simulation in model scale</p></td>
<td><p>10</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\theta\)</span></p></td>
<td><p>Wind direction</p></td>
<td><p>0</p></td>
<td><p>degrees</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(z_0\)</span></p></td>
<td><p>Aerodynamic roughness length in full scale</p></td>
<td><p>0.03</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\rho_{air}\)</span></p></td>
<td><p>Air density</p></td>
<td><p>1.225</p></td>
<td><p>kg/m^3</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\nu_{air}\)</span></p></td>
<td><p>Kinematic viscosity of air</p></td>
<td><p><span class="math notranslate nohighlight">\(1.5e^{-5}\)</span></p></td>
<td><p>m^2/s</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(f_{s}\)</span></p></td>
<td><p>Sampling frequency (rate)</p></td>
<td><p>1000</p></td>
<td><p>Hz</p></td>
</tr>
</tbody>
</table>
<p>The upwind condition chosen for this example is open exposure type with a power-law coefficient <span class="math notranslate nohighlight">\(\alpha = 1/6\)</span>, which approximately translates to a log-law aerodynamic roughness length of <span class="math notranslate nohighlight">\(z_0 = 0.03\)</span> m. <a class="reference internal" href="#fig-we13-2"><span class="std std-numref">Fig. 4.5.1.1</span></a> shows the log-law fit of the mean velocity profile extracted from the experiment. The logarithmic mean velocity profile shown in the figure is expressed by:</p>
<div class="math notranslate nohighlight" id="log-law-wind-profile">
<span id="equation-log-law-wind-profile"></span><span class="eqno">(4.5.1.1)<a class="headerlink" href="#log-law-wind-profile" title="Permalink to this equation">¶</a></span>\[\overline{U}(z)
 = \frac{u_*}{\kappa} \log\left[\frac{z-d}{z_0}\right],\]</div>
<p>where <span class="math notranslate nohighlight">\(u_*\)</span>, <span class="math notranslate nohighlight">\(\kappa = 0.4\)</span> and <span class="math notranslate nohighlight">\(d\)</span> are the shear friction velocity, von Karman constant and displacement height, respectively. The value of <span class="math notranslate nohighlight">\(d\)</span> is set to zero, considering it is open exposure (for rough terrains it needs to be higher than 0). The shear friction velocity is determined by evaluating the log-law profile at the reference location (building height). Thus, <span class="math notranslate nohighlight">\(u_*\)</span> is computed as</p>
<div class="math notranslate nohighlight" id="id1">
<span id="equation-log-law-wind-profile"></span><span class="eqno">(4.5.1.2)<a class="headerlink" href="#id1" title="Permalink to this equation">¶</a></span>\[u_* = \frac{\kappa U_H}{\log(H/z_0)}.\]</div>
<p>As shown in <a class="reference internal" href="#fig-we13-2"><span class="std std-numref">Fig. 4.5.1.1</span></a>, the log-law fit is reasonable for most part of the boundary layer height. However, in the upper part of the domain i.e., <span class="math notranslate nohighlight">\(z &gt; H(200 m)\)</span> it shows some deviation. For cases with larger deviations from log-law, a more accurate wind profiles developed by Deaves and Harris (D&amp;H model) need to be used (<a class="reference internal" href="#cook1997" id="id2"><span>[Cook1997]</span></a>). These profiles present a better description of the ABL turbulence and are also adopted in <a class="reference internal" href="#esdu2001" id="id3"><span>[ESDU2001]</span></a> standards.</p>
<div class="figure align-center" id="id7">
<span id="fig-we13-2"></span><a class="reference internal image-reference" href="../../../../../_images/we13_mean_velocity_profile_fitting.svg"><img alt="../../../../../_images/we13_mean_velocity_profile_fitting.svg" src="../../../../../_images/we13_mean_velocity_profile_fitting.svg" width="500" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.1.1 </span><span class="caption-text">Log-law fitting of the mean velocity profile from the experimental measurement.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For ease of demonstration, in this example, the wind is assumed to a smooth flow with no significant upcoming turbulence. However, realistic wind load simulation needs to account the turbulence in the upcoming flow using appropriate inflow boundary conditions.</p>
</div>
<p>The experiment was run for a duration <span class="math notranslate nohighlight">\(T = 32.768s\)</span>. But for the CFD model, considering the computational cost of running long duration simulation, we used <span class="math notranslate nohighlight">\(T = 10s\)</span>. Also, since we used smooth inflow boundary conditions at the inlet, the wind loads will converge faster as compared to the case with a turbulent inlet. For monitoring the forces from the CFD model, we will specify the same sampling rate used in experimental measurement (<span class="math notranslate nohighlight">\(f_{s} = 1000 Hz\)</span>).</p>
</div>
<div class="section" id="workflow">
<span id="workflow-section"></span><h2><span class="section-number">4.5.2. </span>Workflow<a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h2>
<p>In this example, the overall workflow is demonstrated by introducing uncertainty in the structural model. No uncertainties were considered in the wind parameters or CFD simulations. The user needs to go through the following procedure to define the Uncertainty Quantification (UQ) technique, building information, structural properties, and CFD model parameters.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This example can be directly loaded from the menu bar at the top of the screen by clicking “Examples”-“E5: Wind Load Evaluation on a Generic Isolated Building Using CFD”.</p>
</div>
</div></blockquote>
<div class="section" id="uq-method">
<h3><span class="section-number">4.5.2.1. </span>UQ Method<a class="headerlink" href="#uq-method" title="Permalink to this heading">¶</a></h3>
<p>Specify the details of uncertainty analysis in the <strong>UQ</strong> panel. This example uses forward uncertainty propagation. Select “Forward Propagation” for UQ Method and specify “Dakota” for UQ Engine driver. For the UQ algorithm, use Latin Hypercube (“LHC”). Change the number of samples to 500 and set the seed to 101.</p>
<div class="figure align-center" id="id8">
<a class="reference internal image-reference" href="../../../../../_images/we13_UQ_panel.svg"><img alt="../../../../../_images/we13_UQ_panel.svg" src="../../../../../_images/we13_UQ_panel.svg" width="1000" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.1.1 </span><span class="caption-text">Selection of the Uncertainty Quantification Technique</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="general-information">
<h3><span class="section-number">4.5.2.2. </span>General Information<a class="headerlink" href="#general-information" title="Permalink to this heading">¶</a></h3>
<p>Next, in the <strong>GI</strong> panel, specify the properties of the building and the unit system. For the <strong># Stories</strong> use 50 assuming a floor height of 4 m. Set the <strong>Height</strong>, <strong>Width</strong> and <strong>Depth</strong> to 200, 40 and 40 with a <strong>Plan Area</strong> of 1600. Define the units for <strong>Force</strong> and <strong>Length</strong> as “Newtons” and “Meters”, respectively.</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note that the CFD model is created at a reduced or model scale (i.e., 1 to 400) just like the target wind tunnel model. However, the building dimensions specified here need to be in full-scale (actual building dimensions).</p>
</div>
</div></blockquote>
<div class="figure align-center" id="id9">
<a class="reference internal image-reference" href="../../../../../_images/we13_GI_panel.svg"><img alt="../../../../../_images/we13_GI_panel.svg" src="../../../../../_images/we13_GI_panel.svg" width="1000" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.2.1 </span><span class="caption-text">Set the building properties in <strong>GI</strong> panel</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="structural-properties">
<h3><span class="section-number">4.5.2.3. </span>Structural Properties<a class="headerlink" href="#structural-properties" title="Permalink to this heading">¶</a></h3>
<p>In the SIM panel, the structural properties are defined. For the structural model, select “MDOF” generator. The number of stories and floor height are automatically populated based on <strong>GI</strong> panel. For the <strong>Floor Weights</strong> put <span class="math notranslate nohighlight">\(1.5 \times 10^7\)</span>. Replace the <strong>Story Stiffness</strong> with <strong>k</strong> to designate it as a random variable. Later the statistical properties of this random variable will be defined in <strong>RV</strong> panel. Then, input damping, yield strength, hardening ratio and other parameters as shown in <a class="reference internal" href="#fig-we13-sim-panel"><span class="std std-numref">Fig. 4.5.2.3.1</span></a>.</p>
<div class="figure align-center" id="id10">
<span id="fig-we13-sim-panel"></span><a class="reference internal image-reference" href="../../../../../_images/we13_SIM_panel.svg"><img alt="../../../../../_images/we13_SIM_panel.svg" src="../../../../../_images/we13_SIM_panel.svg" width="1000" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.3.1 </span><span class="caption-text">Define the structural properties in <strong>SIM</strong> panel</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="cfd-model">
<h3><span class="section-number">4.5.2.4. </span>CFD Model<a class="headerlink" href="#cfd-model" title="Permalink to this heading">¶</a></h3>
<p>In the <strong>EVT</strong> panel, for the <strong>Load Generator</strong> select “CFD - Wind Loads on Isolated Building” option to create the CFD model. Here, a brief instruction to define the CFD parameters is provided. For a detailed procedure to setup the CFD model, the user is advised to refer <a class="reference internal" href="../../../usage/desktop/wind/IsolatedBuildingCFD.html#lblisolatedbuildingcfd"><span class="std std-ref">the user manual</span></a>.</p>
<ol class="arabic">
<li><p>In the <em>Start</em> tab, specify the path where your CFD model will be saved by clicking <strong>Browse</strong> button. It is recommended to put it in the default path i.e., <code class="docutils literal notranslate"><span class="pre">Documents\WE-UQ\LocalWorkDir\IsolatedBuildingCFD</span></code>. Select the <strong>Version of OpenFOAM Distribution</strong> to 9. Use the steps outlined in <strong>Modeling Process</strong> box to guide you through procedure.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The CFD model are defined in metric system. Here after please use kilograms for <strong>Mass</strong>, meters for <strong>Length</strong>, second for <strong>Time</strong> and degrees for <strong>Angle</strong>.</p>
</div>
</li>
</ol>
<div class="figure align-center" id="id11">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Start_tab.svg"><img alt="../../../../../_images/we13_EVT_Start_tab.svg" src="../../../../../_images/we13_EVT_Start_tab.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.1 </span><span class="caption-text">Setup the path and version of OpenFOAM in <em>Start</em> tab</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic" start="2">
<li><p>Specify geometric details related to the building and computational domain in the <em>Geometry</em> tab. Set <strong>Input Dimension Normalization</strong> to <em>Relative</em> to size of the domain relative to the building height. Change the <strong>Geometric Scale</strong> of the CFD simulation to 1 to 400 based on the experimental setup (see <a class="reference internal" href="#tbl-we13-1"><span class="std std-numref">Table 4.5.1.1</span></a>). Set the <strong>Building Shape</strong> to <em>Simple</em> as the study building is a simple square building. In the <strong>Building Dimension and Orientation</strong> box specify the <strong>Wind Direction</strong> as 0 to simulate wind incidence normal to the building face. Check the <strong>COST Recommendation</strong> to automatically calculate the domain dimensions based on the COST <a class="reference internal" href="../../../usage/desktop/wind/tools.html#franke2007" id="id4"><span>[Franke2007]</span></a> recommendations. For the coordinate system, specify the <strong>Absolute Origin</strong> as <em>Building Bottom Center</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the objective is to replicate a target wind tunnel setup fully, one might need to set the <strong>Domain Length</strong>, <strong>Domain Width</strong>, <strong>Domain Height</strong> and <strong>Fetch Length</strong> manually matching the dimensions of the actual testing facility.</p>
</div>
</li>
</ol>
<div class="figure align-center" id="id12">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Geometry_tab.svg"><img alt="../../../../../_images/we13_EVT_Geometry_tab.svg" src="../../../../../_images/we13_EVT_Geometry_tab.svg" width="1100" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.2 </span><span class="caption-text">Define the building and domain geometry in <em>Geometry</em> tab</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic" start="3">
<li><p>Generate the computational grid in the <em>Mesh</em> tab. Follow these steps to set the mesh parameters:</p>
<p><strong>Background Mesh:</strong></p>
<p>Define the background (base) mesh as a structured grid with <strong>No. of Cells</strong> in <em>X-axis</em>, <em>Y-axis</em> and <em>Z-axis</em> set to 80, 40, 24. The grid size in each direction needs to be approximately the same.</p>
<div class="figure align-center" id="id13">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Mesh_tab.svg"><img alt="../../../../../_images/we13_EVT_Mesh_tab.svg" src="../../../../../_images/we13_EVT_Mesh_tab.svg" width="1100" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.3 </span><span class="caption-text">Define the computational grid in <em>Mesh</em> tab</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Regional Refinements:</strong></p>
<p>Create 4 boxes to set different refinement regions using the table shown below. Each refinement box needs to have name, refinement level, min and max coordinates. Set the <strong>Level</strong> with successive increments of 1 (i.e., 1 for <em>Box1</em>, 2 for <em>Box2</em>, etc.). The <strong>Mesh Size</strong> for each region is automatically calculated and provided in the last column of the table.</p>
<div class="figure align-center" id="id14">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Mesh_RegionalRefinement_tab.svg"><img alt="../../../../../_images/we13_EVT_Mesh_RegionalRefinement_tab.svg" src="../../../../../_images/we13_EVT_Mesh_RegionalRefinement_tab.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.4 </span><span class="caption-text">Create regional refinements</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Surface Refinements:</strong></p>
<p>In the <em>Surface Refinements</em> sub-tab, check the <em>Add Surface Refinements</em> box. Set the <strong>Refinement Level</strong> to 6 adding an additional 2 levels of refinement from the last refinement box (<em>Box4</em>). These refinements are automatically applied to the <em>building</em> surface. For the <strong>Refinement Distance</strong>, use 0.1 which restricts the near-surface refinements within <span class="math notranslate nohighlight">\(0.1 \times H\)</span> distance from the building.  <strong>Approx. Smallest Mesh Size</strong> gives the estimated size of the smallest mesh element(cell) near the surface of the building.</p>
<div class="figure align-center" id="id15">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Mesh_SurfaceRefinement_tab.svg"><img alt="../../../../../_images/we13_EVT_Mesh_SurfaceRefinement_tab.svg" src="../../../../../_images/we13_EVT_Mesh_SurfaceRefinement_tab.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.5 </span><span class="caption-text">Create surface refinements</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Edge Refinements:</strong></p>
<p>Select <em>Edge Refinements</em> sub-tab and check <em>Add Edge Refinements</em> box. For the <strong>Refinement Level</strong> use 7 effectively making the building edges have one level finer refinement than the rest of the building surface. Similarly, the estimated smallest cell size is given in <strong>Approx. Smallest Mesh Size</strong>.</p>
<div class="figure align-center" id="id16">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Mesh_EdgeRefinement_tab.svg"><img alt="../../../../../_images/we13_EVT_Mesh_EdgeRefinement_tab.svg" src="../../../../../_images/we13_EVT_Mesh_EdgeRefinement_tab.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.6 </span><span class="caption-text">Apply further refinements along the building edges</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Prism Layers:</strong></p>
<p>For this example no prism layers are added. Thus, in the <em>Prism Layers</em> sub-tab, uncheck <em>Add Prism Layers</em> box. However, for more accurate CFD simulation it is recommended to have prism layers.</p>
<div class="figure align-center" id="id17">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Mesh_PrismLayers_tab.svg"><img alt="../../../../../_images/we13_EVT_Mesh_PrismLayers_tab.svg" src="../../../../../_images/we13_EVT_Mesh_PrismLayers_tab.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.7 </span><span class="caption-text">Adding Prism Layers</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Advanced Options:</strong></p>
<p>Use the default values for parameters in <em>Advanced Options</em> group. If you want to use more transition (buffer) cells between each refinement level, change <strong>Number of Cells Between Levels</strong> to a higher value.</p>
<div class="figure align-center" id="id18">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Mesh_AdvancedOptions.svg"><img alt="../../../../../_images/we13_EVT_Mesh_AdvancedOptions.svg" src="../../../../../_images/we13_EVT_Mesh_AdvancedOptions.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.8 </span><span class="caption-text">Set <em>Advanced Options</em></span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Run Mesh</strong></p>
<p>Once all mesh parameters are defined, click <strong>Run snappyHexMesh</strong> button to generate the final mesh. The progress of the mesh generation can be monitored on <strong>Program Output</strong>. When the mesh generation finishes successfully, the <em>Model View</em> window on the right side will get updated and the user can visualize the mesh. You can actively zoom, rotate and pan the generated mesh in 3D for a detailed view. The following figure shows an inside view of the computational domain after selecting a <em>Breakout</em> <strong>View</strong> option in the <em>Model View</em> panel.</p>
<div class="figure align-center" id="id19">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Mesh_Run.svg"><img alt="../../../../../_images/we13_EVT_Mesh_Run.svg" src="../../../../../_images/we13_EVT_Mesh_Run.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.9 </span><span class="caption-text">Running the mesh</span><a class="headerlink" href="#id19" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id20">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Mesh_View.svg"><img alt="../../../../../_images/we13_EVT_Mesh_View.svg" src="../../../../../_images/we13_EVT_Mesh_View.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.10 </span><span class="caption-text">Breakout View of the Mesh</span><a class="headerlink" href="#id20" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>In the <em>Boundary Conditions</em> tab, define properties of the approaching wind and boundary fields.</p>
<ul class="simple">
<li><p>First, configure parameters in the <strong>Wind Characteristics</strong> group. Set the <strong>Velocity Scale</strong> to 4, the same value given in <a class="reference internal" href="#tbl-we13-1"><span class="std std-numref">Table 4.5.1.1</span></a>. The <strong>Time Scale</strong> will be automatically calculated using velocity and length scale information. Similarly, for the <strong>Wind Speed At Reference Height</strong> put <span class="math notranslate nohighlight">\(11.25 m/s\)</span>, and set the <strong>Reference Height</strong> as building height, which is <span class="math notranslate nohighlight">\(0.5 \, m\)</span> in model scale. Specify the roughness of the surrounding terrain by changing <strong>Aerodynamic Roughness Length</strong> to a full-scale value of <span class="math notranslate nohighlight">\(0.03 m\)</span>. For physical properties of the air, use <span class="math notranslate nohighlight">\(1.225 \, kg/m^3\)</span> for <strong>Air Density</strong> and <span class="math notranslate nohighlight">\(1.5 \times 10^{-5} \, m^2/s\)</span> for <strong>Kinematic Viscosity</strong>. The Reynolds number (<span class="math notranslate nohighlight">\(Re\)</span>) of the flow that uses the reference wind speed and height can be computed by clicking the <strong>Calculate</strong> button.</p></li>
<li><p>Then, define the boundary fields on each face of the domain including the building surface in <strong>Boundary Conditions</strong> group. At the <strong>Inlet</strong> use <em>MeanABL</em> which specifies a mean velocity profile based on the logarithmic profile shown in <a class="reference internal" href="#fig-we13-2"><span class="std std-numref">Fig. 4.5.1.1</span></a>. For <strong>Outlet</strong> use a <em>zeroPressureOutlet</em> which sets the pressure at the outlet to zero, and helps to maintain the reference pressure in the domain around zero. On the <strong>Side</strong> and <strong>Top</strong> faces of the domain use <em>symmetry</em> boundary conditions. For the <strong>Ground</strong> surface, apply <em>roughWallFunction</em> to account for the roughness of the surrounding terrain prescribed by <strong>Aerodynamic Roughness Length</strong> (<span class="math notranslate nohighlight">\(z_0\)</span>). Whereas, on the <strong>Building</strong> surface, use <em>smoothWallFunction</em> assuming the building has a smooth surface.</p></li>
</ul>
<div class="figure align-center" id="id21">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_BoundaryConditions.svg"><img alt="../../../../../_images/we13_EVT_BoundaryConditions.svg" src="../../../../../_images/we13_EVT_BoundaryConditions.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.11 </span><span class="caption-text">Setup the <em>Boundary Conditions</em></span><a class="headerlink" href="#id21" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Specify turbulence modeling, solver type, duration and time step options in <em>Numerical Setup</em> tab.</p>
<ul class="simple">
<li><p>For this example, since time-series of the wind forces are needed for the structural solver, we use transient CFD simulation. Thus, in <strong>Turbulence Modeling</strong> group, set <strong>Simulation Type</strong> to <em>LES</em> and select <em>Smagorinsky</em> for the <strong>Sub-grid Scale Model</strong>. The coefficients of the standard <em>Smagorinsky</em> model are printed in the following text box.</p></li>
<li><p>For the <strong>Solver Type</strong> select <em>pisoFoam</em> in <strong>Solver Selection</strong> group . Set the <strong>Number of Non-Orthogonal Correctors</strong> to 1 to add additional solver iteration. This option will give better stability to the solver as the generated mesh is non-orthogonal (irregular) near the building surface.</p></li>
<li><p>Specify <span class="math notranslate nohighlight">\(10 s\)</span> for the <strong>Duration</strong> of the simulation based on what is determined in <a class="reference internal" href="#tbl-we13-1"><span class="std std-numref">Table 4.5.1.1</span></a>. Compute the approximate <strong>Time Steep</strong> needed for a stable simulation by clicking <strong>Calculate</strong> button. Then, you can change the calculated time step to a slightly lower or higher value avoiding the use of long significant digits. For this example, the calculated value was <span class="math notranslate nohighlight">\(8.67919 \times 10^{-05}\)</span> but it was changed to <span class="math notranslate nohighlight">\(1.0 \times 10^{-04}\)</span> to make it a workable time step. Chose the <strong>Constant</strong> time step option.</p></li>
<li><p>Check the <strong>Run Simulation in Parallel</strong> option and specify the <strong>Number of Processors</strong> to the 32. Depending on the number of grids used, the number of processors can be increased to a higher value.</p></li>
</ul>
</li>
</ol>
<div class="figure align-center" id="id22">
<span id="fig-we13-cfd-num-setup"></span><a class="reference internal image-reference" href="../../../../../_images/we13_EVT_NumericalSetup.svg"><img alt="../../../../../_images/we13_EVT_NumericalSetup.svg" src="../../../../../_images/we13_EVT_NumericalSetup.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.12 </span><span class="caption-text">Edit the <em>Numerical Setup</em> options</span><a class="headerlink" href="#id22" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic" start="6">
<li><p>Select quantities of interest to record from the CFD simulation in the <em>Monitoring</em> tab.</p>
<ul class="simple">
<li><p>Check <strong>Monitor Base Loads</strong> and set the corresponding <strong>Write Interval</strong> to 10, which sets the data to be written at every 10 time-step of the CFD solver.</p></li>
<li><p>The integrated story forces are always monitored as the whole workflow needs that. Similarly, here set the <strong>Write Interval</strong> to 10 which writes the story loads with a time interval of <span class="math notranslate nohighlight">\(\Delta t \times 10 = 0.001s\)</span>. Note that this value is the same as the sampling rate (<span class="math notranslate nohighlight">\(f_s = 1000 Hz\)</span>) used in the experimental model. Ultimately, this is the time step the structural solver will see.</p></li>
<li><p>Uncheck the <strong>Sample Pressure Data on the Building Surface</strong> option as we only need integrated loads for this example.</p></li>
</ul>
<div class="figure align-center" id="id23">
<a class="reference internal image-reference" href="../../../../../_images/we13_EVT_Monitoring.svg"><img alt="../../../../../_images/we13_EVT_Monitoring.svg" src="../../../../../_images/we13_EVT_Monitoring.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.4.13 </span><span class="caption-text">Specify the CFD outputs in the <em>Monitoring</em> tab</span><a class="headerlink" href="#id23" title="Permalink to this image">¶</a></p>
</div>
</li>
</ol>
</div>
<div class="section" id="finite-element-analysis">
<h3><span class="section-number">4.5.2.5. </span>Finite Element Analysis<a class="headerlink" href="#finite-element-analysis" title="Permalink to this heading">¶</a></h3>
<p>To set the finite element analysis options, select the <strong>FEM</strong> panel. Here we will keep the default values as seen in <a class="reference internal" href="#fig-we13-fem-panel"><span class="std std-numref">Fig. 4.5.2.5.1</span></a>.</p>
<div class="figure align-center" id="id24">
<span id="fig-we13-fem-panel"></span><a class="reference internal image-reference" href="../../../../../_images/we13_FEM_panel.svg"><img alt="../../../../../_images/we13_FEM_panel.svg" src="../../../../../_images/we13_FEM_panel.svg" width="1000" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.5.1 </span><span class="caption-text">Setup the Finite Element analysis options</span><a class="headerlink" href="#id24" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="engineering-demand-parameter">
<h3><span class="section-number">4.5.2.6. </span>Engineering Demand Parameter<a class="headerlink" href="#engineering-demand-parameter" title="Permalink to this heading">¶</a></h3>
<p>Next, select the quantity of interest from the analysis in the <strong>EDP</strong> panel. The Engineering Demand Parameters (EDPs) are structural response quantities that can be used to evaluate the performance of the structure under wind. Here select the <em>Standard Wind</em> EDPs which include floor displacement, acceleration and inter-story drift.</p>
<div class="figure align-center" id="id25">
<a class="reference internal image-reference" href="../../../../../_images/we13_EDP_panel.svg"><img alt="../../../../../_images/we13_EDP_panel.svg" src="../../../../../_images/we13_EDP_panel.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.6.1 </span><span class="caption-text">Select the EDPs to measure</span><a class="headerlink" href="#id25" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="random-variables">
<h3><span class="section-number">4.5.2.7. </span>Random Variables<a class="headerlink" href="#random-variables" title="Permalink to this heading">¶</a></h3>
<p>The random variables are defined in <strong>RV</strong> tab. Here, the floor stiffness named as <span class="math notranslate nohighlight">\(k\)</span> in <strong>SIM</strong> tab is automatically assigned as a random variable. Select <em>Normal</em> for the probability <strong>Distribution</strong> of the variable. Then, specify <span class="math notranslate nohighlight">\(4 \times 10^{8}\)</span> for the <strong>Mean</strong> and <span class="math notranslate nohighlight">\(4 \times 10^{7}\)</span> for <strong>Standard Dev</strong>. The user can also click <strong>Show PDF</strong> to inspect the probability density function of the variable as shown in <a class="reference internal" href="#fig-we13-rv-panel"><span class="std std-numref">Fig. 4.5.2.7.1</span></a></p>
<div class="figure align-center" id="id26">
<span id="fig-we13-rv-panel"></span><a class="reference internal image-reference" href="../../../../../_images/we13_RV_panel.svg"><img alt="../../../../../_images/we13_RV_panel.svg" src="../../../../../_images/we13_RV_panel.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.7.1 </span><span class="caption-text">Define the Random Variable (RV)</span><a class="headerlink" href="#id26" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="running-the-simulation">
<h3><span class="section-number">4.5.2.8. </span>Running the Simulation<a class="headerlink" href="#running-the-simulation" title="Permalink to this heading">¶</a></h3>
<p>Considering the high cost of running the CFD simulation, the whole workflow can only be run remotely. Thus, once setting up the workflow is completed, the user needs to first login to <em>DesignSafe</em> with their credential by clicking <strong>Login</strong> button at the top right corner of the window as seen <a class="reference internal" href="#fig-we13-submit-job"><span class="std std-numref">Fig. 4.5.2.8.1</span></a>. Then, by pressing <strong>RUN at DesignSafe</strong> information needed for submitting the job to the remote server is specified. Put a meaningful identifier for the <strong>Job Name</strong> e.g., “TPU_LES_Example1”. Set <strong>Num Nodes</strong> to 1 and <strong># Processes Per Node</strong> to 32. For <strong>Max Run Time</strong>, specify <em>17:00:00</em> which requests a total of 17 hours 0 minutes and 0 seconds. Finally, click the <strong>Submit</strong> button to send the job to <em>DesignSafe</em></p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>We know 17 hours is a really long time!! This is quite common in most LES-based wind loads evaluation studies. If you only want to test the example, please set <strong>Duration</strong> of the simulation in <strong>Numerical Setup</strong> tab of the <strong>EVT</strong> panel to a smaller value, say <span class="math notranslate nohighlight">\(0.1s\)</span>, and submit the simulation.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note that the total number of processors used in the simulation equals <strong>Num Nodes</strong> <span class="math notranslate nohighlight">\(\times\)</span> <strong># Processes Per Node</strong>. This value must be the same as what is specified for <strong>Number of Processors</strong> in <strong>Numerical Setup</strong> tab of the CFD model (see <a class="reference internal" href="#fig-we13-cfd-num-setup"><span class="std std-numref">Fig. 4.5.2.4.12</span></a>).</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the simulation cannot finish within the allocated time, it will be terminated and none of your remote simulation data can be retried. Thus, it is recommended to make <strong>Max Run Time</strong> slightly longer than what is needed to be safe.</p>
</div>
</div></blockquote>
<div class="figure align-center" id="id27">
<span id="fig-we13-submit-job"></span><a class="reference internal image-reference" href="../../../../../_images/we13_RunJob.svg"><img alt="../../../../../_images/we13_RunJob.svg" src="../../../../../_images/we13_RunJob.svg" width="1100" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.8.1 </span><span class="caption-text">Submit the simulation to the remote server (DesignSafe-CI)</span><a class="headerlink" href="#id27" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Monitor the Simulation</strong></p>
<p>The progress (status) of the submitted job can be tracked by clicking <strong>GET from DesignSafe</strong>. A new window pops up showing all the jobs run on <em>DesignSafe</em>. Here right-click the name of your job, and select <strong>Refresh Job</strong> option to update the status of the job. If the job started the table will show <em>RUNNING</em> for the status. When the simulation is completed it will show <em>FINISHED</em>.</p>
<div class="figure align-center" id="id28">
<span id="fig-we13-monitor-job"></span><a class="reference internal image-reference" href="../../../../../_images/we13_MonitorJob.svg"><img alt="../../../../../_images/we13_MonitorJob.svg" src="../../../../../_images/we13_MonitorJob.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.8.2 </span><span class="caption-text">Monitor the submitted job</span><a class="headerlink" href="#id28" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="results">
<h3><span class="section-number">4.5.2.9. </span>Results<a class="headerlink" href="#results" title="Permalink to this heading">¶</a></h3>
<p>Once the remote job finishes, the results can be reloaded by clicking <strong>Retrieve Data</strong> option in <a class="reference internal" href="#fig-we13-monitor-job"><span class="std std-numref">Fig. 4.5.2.8.2</span></a>. Then, the results will be displayed in <strong>RES</strong> tab. For the <em>Standard</em> EDP chosen the responses monitored are displayed for each floor and direction. For example, the naming of the EDPs with:</p>
<blockquote>
<div><ul class="simple">
<li><p>1-PFA-0-1: represents <strong>peak floor acceleration</strong> at the <strong>ground floor</strong> for <strong>component 1</strong> (x-dir)</p></li>
<li><p>1-PFD-1-2: represents <strong>peak floor displacement</strong> (relative to the ground) at the <strong>1st floor</strong> ceiling for <strong>component 2</strong> (y-dir)</p></li>
<li><p>1-PID-3-1: represents  <strong>peak inter-story drift ratio</strong> of the <strong>3rd floor</strong> for <strong>component 1</strong> (x-dir) and</p></li>
<li><p>1-RMSA-50-1: represents <strong>root-mean-squared acceleration</strong> of the <strong>50th floor</strong> for <strong>component 1</strong> (x-dir).</p></li>
</ul>
</div></blockquote>
<p>The four statistical moments of the EDPs which include <em>Mean</em>, <em>StdDev</em>, <em>Skewness</em> and <em>Kurtosis</em> are provided in the <em>Summary</em> tab of the panel.</p>
<div class="figure align-center" id="id29">
<a class="reference internal image-reference" href="../../../../../_images/we13_RES_Summary.svg"><img alt="../../../../../_images/we13_RES_Summary.svg" src="../../../../../_images/we13_RES_Summary.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.9.1 </span><span class="caption-text">Summary of the recorded EDPs in <strong>RES</strong> panel</span><a class="headerlink" href="#id29" title="Permalink to this image">¶</a></p>
</div>
<p>In addition, by switching to <em>Data Values</em> tab, you can see all the realizations of the simulation and inspect the relationships between different entries. For instance, if you want to visualize the variation of the top-floor acceleration with floor stiffness, right-click “1-RMSA-50-2” column in the table. This will show the root-mean-squared acceleration in the cross-wind direction for all runs as shown on the left side of <a class="reference internal" href="#fig-we13-res-scatter"><span class="std std-numref">Fig. 4.5.2.9.2</span></a>. As you might expect, the floor acceleration generally decreases as the building becomes more stiff.</p>
<div class="figure align-center" id="id30">
<span id="fig-we13-res-scatter"></span><a class="reference internal image-reference" href="../../../../../_images/we13_RES_DataValues.svg"><img alt="../../../../../_images/we13_RES_DataValues.svg" src="../../../../../_images/we13_RES_DataValues.svg" width="1000" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.2.9.2 </span><span class="caption-text">(scatter-plot) Top-floor acceleration vs floor stiffness, (table) Report of EDPs for all realizations</span><a class="headerlink" href="#id30" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The user can interact with the plot as follows.</p>
<ul class="simple">
<li><p>Windows: left-click sets the Y axis (ordinate), while right-click sets the X axis (abscissa).</p></li>
<li><p>MAC: fn-clink, option-click, and command-click all set the Y axis (ordinate). ctrl-click sets the X axis (abscissa).</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="visualizing-the-cfd-output">
<h2><span class="section-number">4.5.3. </span>Visualizing the CFD Output<a class="headerlink" href="#visualizing-the-cfd-output" title="Permalink to this heading">¶</a></h2>
<p>The simulated case directory can be directly accessed on the <em>DesignSafe</em> data depot and visualized remotely using Paraview. The following plots show sample visualization of the instantaneous flow field.</p>
<p>In <a class="reference internal" href="#fig-we13-cfd-result1"><span class="std std-numref">Fig. 4.5.3.1</span></a>, the streamlines of the approaching flow, as it passes around the building, are shown. On the building surface, the result pressure coefficient are displayed. It also shows the inside view of the mesh underlying.</p>
<div class="figure align-center" id="id31">
<span id="fig-we13-cfd-result1"></span><a class="reference internal image-reference" href="../../../../../_images/we13_CFD_Results_StreamLines.svg"><img alt="../../../../../_images/we13_CFD_Results_StreamLines.svg" src="../../../../../_images/we13_CFD_Results_StreamLines.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.3.1 </span><span class="caption-text">Streamlines of the instantaneous velocity field around the building.</span><a class="headerlink" href="#id31" title="Permalink to this image">¶</a></p>
</div>
<p>Similarly, in <a class="reference internal" href="#fig-we13-cfd-result2"><span class="std std-numref">Fig. 4.5.3.2</span></a>, the instantaneous velocity contours on the horizontal and vertical sections taken in the vicinity of the building are shown. The figure also shows the flow structure (bottom right plot) around the building. It can be seen that important flow features such as vortex shading, turbulence at the wake, and horseshoe vortex in the front of the building are captured. We recommend the user first inspect the CFD output before proceeding with results in the <strong>RES</strong> panel. This type of qualitative check constitutes the first step of verification (quality assurance) for the predicted wind loads.</p>
<div class="figure align-center" id="id32">
<span id="fig-we13-cfd-result2"></span><a class="reference internal image-reference" href="../../../../../_images/we13_CFD_Results.svg"><img alt="../../../../../_images/we13_CFD_Results.svg" src="../../../../../_images/we13_CFD_Results.svg" width="1000" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5.3.2 </span><span class="caption-text">Instantaneous velocity field around the building.</span><a class="headerlink" href="#id32" title="Permalink to this image">¶</a></p>
</div>
<dl class="citation">
<dt class="label" id="cook1997"><span class="brackets"><a class="fn-backref" href="#id2">Cook1997</a></span></dt>
<dd><p>Cook, N.J., 1997. The Deaves and Harris ABL model applied to heterogeneous terrain. Journal of wind engineering and industrial aerodynamics, 66(3), pp.197-214.</p>
</dd>
<dt class="label" id="esdu2001"><span class="brackets"><a class="fn-backref" href="#id3">ESDU2001</a></span></dt>
<dd><p>ESDU, I., 2001. Characteristics of Atmospheric Turbulence Near the Ground—Part II: Single Point Data for Strong Winds (Neutral Atmosphere). Engineering Sciences Data Unit, IHS Inc., London, UK, Report No. ESDU, 85020.</p>
</dd>
<dt class="label" id="tpu2005"><span class="brackets">TPU2005</span></dt>
<dd><p>Tokyo Polytechnic University: <a class="reference external" href="http://www.wind.arch.t-kougei.ac.jp/info_center/windpressure/highrise/Homepage/homepageHDF.htm">http://www.wind.arch.t-kougei.ac.jp/info_center/windpressure/highrise/Homepage/homepageHDF.htm</a></p>
</dd>
<dt class="label" id="franke2007"><span class="brackets"><a class="fn-backref" href="#id4">Franke2007</a></span></dt>
<dd><p>Franke, J., Hellsten, A., Schlünzen, K.H. and Carissimo, B., 2007. COST Action 732: Best practice guideline for the CFD simulation of flows in the urban environment.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2024, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-158130480-2', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>